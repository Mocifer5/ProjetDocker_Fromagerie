### Run docker compose
```
docker-compose up --build
```

# Internal Tests
## 1. Check Connectivity From Pentest_container:
Ping command from your pentest_container to ensure all services are reachable over both private_network and public_network

### Open  shell in `pentest_container` container
```
docker exec -it pentest_external /bin/bash
```

### Update `apt-get`
```
apt-get update
```

### Install ping command
```
apt-get install -y iputils-ping
```

### Use ping command to check connectivity to `php_web`
```
ping php_web
```

### Use pingcommand to check connectivity to `internal_api`
```
ping interal_api
```

### Use pingcommand to check connectivity to `mysql_db`
```
ping mysql_db
```

## 2. Check Database Connection from internal_api

```
docker exec -it internal_api /bin/bash
mysql -u fromage_user -p -h mysql_db -D fromage_db
```
Password: fromage_password

## 3. SQLMap to Test SQL Injection (Between Containers):
	•	Purpose: Testing the SQL injection vulnerability of the php_web service from inside the Docker network.
	•	Internal: When launched from pentest_container (inside the Docker network), the attack is internal.

```
apt-get install -y sqlmap
```
```
sqlmap -u "http://php_web/index.php" --data="nom=Brie&prix=4.50" --dbs
```

## 	4.	Monitoring Logs Inside the Network:
	•	Purpose: Observing the logs generated by internal services such as php_web and internal_api.
	•	Internal: Log monitoring from within the environment.
```
docker logs -f php_web
docker logs -f internal_api
```

# External Tests (Run from Outside Docker, e.g., from Host Machine):

Access the php_web Service from Outside the Docker Network:
	•	Purpose: Testing the public-facing service running on port 8080 (the web service).
	•	External: Accessing php_web via the host machine’s IP address or localhost.

```
# Check external access to php_web service
curl http://localhost:8080

# SQLMap attack from outside the network
sqlmap -u "http://localhost:8080/index.php" --data="nom=Brie&prix=4.50" --dbs

# Test for XSS vulnerability from external environment
curl -X POST -d "nom=<script>alert('XSS Test')</script>&prix=4.50" http://localhost:8080/index.php
```
